{% extends "app/layout.html" %}
{% block title %}
Add card
{% endblock %}


{% block body %}
<div class="form-card">
    <h2 class="mb-3">Add Card</h2>

    {% if message %}
        <div>{{ message }}</div>
    {% endif %}

    <form action="{% url 'add_card' %}" method="post" enctype="multipart/form-data" class="pb-3">
        {% csrf_token %}
                <div class="form-floating mb-3">
                    {{ field.errors }}
                    <input type="text"
                        class="form-control"
                        id="{{ form.number.id_for_label }}"
                        name="{{ form.number.name }}"
                        required>
                    <label for="{{ form.number.id_for_label }}">{{ form.number.label_tag }}</label>
                </div>
                <div class="form-floating mb-3">
                    {{ field.errors }}
                    <input type="date"
                        class="form-control"
                        id="{{ form.expiration_date.id_for_label }}"
                        name="{{ form.expiration_date.name }}"
                        required>
                    <label for="{{ form.expiration_date.id_for_label }}">{{ form.expiration_date.label_tag }}</label>
                </div>
        
                <div class="form-floating mb-3">
                    {{ field.errors }}
                    <input type="text"
                        class="form-control"
                        id="{{ form.cvv.id_for_label }}"
                        name="{{ form.cvv.name }}"
                        required>
                    <label for="{{ form.cvv.id_for_label }}">{{ form.number.label_tag }}</label>
                </div>
  
        {% if has_card %}
        <div class="text-center">
            <button class="btn btn-danger" type="submit">Change Card</button>
        </div>
        {% else %}
        <div class="text-center">
            <button class="btn btn-danger" type="submit">Add Card</button>
        </div>
        {% endif %}
    </form>
</div>
{% endblock %}